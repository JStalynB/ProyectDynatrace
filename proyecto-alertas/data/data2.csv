Torre;Nombre Componente;Tipo de evento;Descripci�n Error;Solución
BDD;"precwwa067";CPU Saturation;CPU Saturation AIX DCA;"1. Ingresamos al cyberark.2. Buscamos el nombre del servidor para poder ingresar.3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5. Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y la alerta persiste m�s de 1 hora reportar a bdd. 
Nota: Los servidores del Dca no tienen los mismos recursos que el dcp por lo cual permanecen alertados y sincroniza con DCP es un evento controlado.";
BDD;ecbpbbdp1;CPU Saturation;CPU Saturation AIX DCP;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.
Nota: Si el cpu se eleva por m�s de 5 minutos al 97% reportar de inmediato a bdd caso contrario cerrar como evento controlado ya como evento controlado ya que las alertas en la noche se dan por ejecucion del batch";
BDD;DRECXDB003;Networking;High network utilizaci�n;"1 Ingresar al servidor mediante cyberark
2. Buscamos el nombre del servidor para poder ingresar.
3. Identificar los procesos que consumen mayor cantidad de red ejecutando el siguiente query 
/*
Select * FROM GV$SESSION WHERE 0=1;
with ps as
     (select inst_id, sid, serial#, qcsid, qcserial#
      from   GV$px_session
      where  qcserial# is not null)
Select PS.QCSID as parent_session_sid, PS.QCSERIAL# as parent_session_serial, PS.inst_id as parent_session_instid, s.INST_ID, rawtohex(s.SADDR) as SADDR, s.SID, s.SERIAL#, s.AUDSID, rawtohex(s.PADDR) as PADDR, s.USER#, s.USERNAME, s.COMMAND, s.OWNERID, s.TADDR, s.LOCKWAIT, s.STATUS, s.SERVER, s.SCHEMA#, s.SCHEMANAME, TO_SINGLE_BYTE(s.OSUSER) as OSUSER, s.PROCESS, TO_SINGLE_BYTE(s.MACHINE) as MACHINE, s.PORT, s.TERMINAL, UPPER(s.PROGRAM) PROGRAM, s.TYPE, s.SQL_ADDRESS, s.SQL_HASH_VALUE, s.SQL_ID, s.SQL_CHILD_NUMBER, s.SQL_EXEC_START, s.SQL_EXEC_ID, s.PREV_SQL_ADDR, s.PREV_HASH_VALUE, s.PREV_SQL_ID, s.PREV_CHILD_NUMBER, s.PREV_EXEC_START, s.PREV_EXEC_ID, s.PLSQL_ENTRY_OBJECT_ID, s.PLSQL_ENTRY_SUBPROGRAM_ID, s.PLSQL_OBJECT_ID, s.PLSQL_SUBPROGRAM_ID, s.MODULE, s.MODULE_HASH, substr(TO_SINGLE_BYTE(s.ACTION), 1, 64) as ACTION, s.ACTION_HASH, s.CLIENT_INFO, s.FIXED_TABLE_SEQUENCE, s.ROW_WAIT_OBJ#, s.ROW_WAIT_FILE#, s.ROW_WAIT_BLOCK#, s.ROW_WAIT_ROW#, s.TOP_LEVEL_CALL#, s.LOGON_TIME, s.LAST_CALL_ET, s.PDML_ENABLED, s.FAILOVER_TYPE, s.FAILOVER_METHOD, s.FAILED_OVER, s.RESOURCE_CONSUMER_GROUP, s.PDML_STATUS, s.PDDL_STATUS, s.PQ_STATUS, s.CURRENT_QUEUE_DURATION, s.CLIENT_IDENTIFIER, s.BLOCKING_SESSION_STATUS, s.BLOCKING_INSTANCE, s.BLOCKING_SESSION, s.FINAL_BLOCKING_SESSION_STATUS, s.FINAL_BLOCKING_INSTANCE, s.FINAL_BLOCKING_SESSION, s.SEQ#, s.EVENT#, s.EVENT, s.P1TEXT, s.P1, s.P1RAW, s.P2TEXT, s.P2, s.P2RAW, s.P3TEXT, s.P3, s.P3RAW, s.WAIT_CLASS_ID, s.WAIT_CLASS#, s.WAIT_CLASS, s.WAIT_TIME, s.SECONDS_IN_WAIT, s.STATE, s.WAIT_TIME_MICRO, s.TIME_REMAINING_MICRO, s.TIME_SINCE_LAST_WAIT_MICRO, s.SERVICE_NAME, s.SQL_TRACE, s.SQL_TRACE_WAITS, s.SQL_TRACE_BINDS, s.SQL_TRACE_PLAN_STATS, s.SESSION_EDITION_ID, s.CREATOR_ADDR, s.CREATOR_SERIAL#, s.ECID, s.SQL_TRANSLATION_PROFILE_ID, s.PGA_TUNABLE_MEM, s.SHARD_DDL_STATUS, s.CON_ID, s.EXTERNAL_NAME, s.PLSQL_DEBUGGER_CONNECTED, stat.cpu  - stat.CPU_this_call_start cpu_this_call, stat.CPU, stat.UGA_memory, stat.PGA_memory, stat.Commits, stat.Rollbacks, p.program  ""OSProgram"", p.spid, p.pid
FROM GV$SESSION S, PS, GV$PROCESS p, 
     (select ss.inst_id stat_inst_id, ss.sid stat_sid,
             sum(decode(sn.name, 'CPU used when call started', ss.value, 0)) CPU_this_call_start,
             sum(decode(sn.name, 'CPU used by this session', ss.value, 0)) CPU,
             sum(decode(sn.name, 'session uga memory', ss.value, 0)) uga_memory,
             sum(decode(sn.name, 'session pga memory', ss.value, 0)) pga_memory,
             sum(decode(sn.name, 'user commits', ss.value, 0)) commits,
             sum(decode(sn.name, 'user rollbacks', ss.value, 0)) rollbacks
      from   GV$sesstat ss, GV$statname sn
      where  ss.STATISTIC# = sn.STATISTIC#
      and    ss.inst_id = sn.inst_id
      and    (sn.name = 'CPU used when call started' or
              sn.name = 'CPU used by this session' or
              sn.name = 'session uga memory' or
              sn.name = 'session pga memory' or
              sn.name = 'user commits' or
              sn.name = 'user rollbacks')
      group by ss.inst_id, ss.sid) stat
 WHERE 
(
s.STATUS = 'ACTIVE'
) AND  ( (s.USERNAME is not null) and (NVL(s.osuser,'x') <> 'SYSTEM') and (s.type <> 'BACKGROUND') ) 
and  p.addr(+) = s.paddr AND p.inst_id(+) = s.inst_id 
and  stat.stat_inst_id = s.inst_id and stat.stat_sid = s.sid 
and  PS.SID (+) = S.SID AND PS.SERIAL# (+) = S.SERIAL# and PS.INST_ID (+) = S.INST_ID 
order by MODULE, OWNERID; */
3. al ejecutar el script se verificara que se tiene sessiones ingresando a la base de datos 
Nota omitir la alerta ya que en el dca los recueros son minimos y es una alerta contrada  si la alerta persiste mas de 1 hora reportar a bdd ";
BDD;ECBPEBSP7;Bloqueo de sesiones;BLOQUEO DE SESIONES;"1 Ingresar al servidor mediante cyberark
2. Buscamos el nombre del servidor para poder ingresar.
3.ejecutamos el siguiente query para verificar si existen bloqueos 
select s1.username || '@' || s1.machine
|| ' ( THIS SID=' || s1.sid || ' )  is blocking '
|| s2.username || '@' || s2.machine || ' ( SID=' || s2.sid || ' ) ' AS blocking_status
from gv$lock l1, gv$session s1, gv$lock l2, gv$session s2
where s1.sid=l1.sid and s2.sid=l2.sid
and l1.BLOCK=1 and l2.request > 0
and l1.id1 = l2.id1
and l2.id2 = l2.id2 ;
4. En caso de que el SID BLOQUEANTE sea el mismo m�s de 15 minutos, notificar a BDD.caso contrario cerrar como evento controlado
";
BDD;ecbpebsp1;Memory Saturation;Saturation de Memoria;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp).
5. Si la memoria se eleva por m�s de 5 minutos al 97% reportar de inmediato a bdd, caso contrario.
6. Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD, caso contrario el evento se recupera autom�ticamente.
nota cerrar como evento controlado ya que las alertas en la noche se dan por ejecucion del batch";
BDD;ECBPEBSP7;Memory Saturation;Saturation de Memoria;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: El evento que presenta por saturacion de memoria en dynatrace  no es la real se debe verificar el dashbord de unix el cual toma  la memoria computacional, si se encuentra en rojo, reportar, caso contrario cerrar indicando que es un evento controlado y no reporta la memoria real https://xyc10065.live.dynatrace.com/index.jsp?state=W5OHiIGFgThLgMK_4bTMuLyC81C6RRzc95p8TRdR4L0&code=2679782c-1aab-46f4-8246-bce697239142#dashboard;gtf=-10m;gf=all;id=3e82d414-3faa-4997-ae73-fc014376add0";
BDD;TSECXDB010;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: el evento que procede de saturacion de memoria en los nodos PRECXDB004 yPRECXDB005 son por ejecucion de flash copy de bancs en la noche el cual baja todos los servicio y por ende todas las alertas del dynatrace que al momento de subir nuevamente grafica como que fuera alertado el mismo que es controlado si existe una desconexion del dynatrace en el dia el evento se disparara nuevamente validar la memoria computacional del dyboard en caso de superar 90% elevar a bdd";
BDD;PRECXDB004;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: el evento que procede de saturacion de memoria en los nodos PRECXDB004 yPRECXDB005 son por ejecucion de flash copy de bancs en la noche el cual baja todos los servicio y por ende todas las alertas del dynatrace que al momento de subir nuevamente grafica como que fuera alertado el mismo que es controlado si existe una desconexion del dynatrace en el dia el evento se disparara nuevamente validar la memoria computacional del dyboard en caso de superar 90% elevar a bdd PPECXIB003";
BDD;PRECXDB005;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
5. Caso contrario el evento se recupera autom�ticamente.
Nota: el evento que procede de saturacion de memoria en los nodos PRECXDB004 yPRECXDB005 son por ejecucion de flash copy de bancs en la noche el cual baja todos los servicio y por ende todas las alertas del dynatrace que al momento de subir nuevamente grafica como que fuera alertado el mismo que es controlado si existe una desconexion del dynatrace en el dia el evento se disparara nuevamente validar la memoria computacional del dyboard en caso de superar 90% elevar a bdd";
BDD;ECBPPRQ63;Bloqueo de sesiones;Bloqueo de sesiones;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando un BLOQUEO    de sql                                                                                                                                             SET NOCOUNT ON 
GO

SELECT 
      HOSTNAME
      , SPID
      , loginame
      , BLOCKED
      , REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH 
INTO #T 
FROM sys.sysprocesses R 
      CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T 
GO
                                                                                                                                                                                                                                         
6. Reportar a base de datos en caso de que el bloqueo supere los 5 minutos ya que las alertas son autorecueoradas";
BDD;PRECWDB013;Bloqueo de sesiones;Bloqueo de sesiones;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando un BLOQUEO    de sql                                                                                                                                             SET NOCOUNT ON 
GO

SELECT 
      HOSTNAME
      , SPID
      , loginame
      , BLOCKED
      , REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH 
INTO #T 
FROM sys.sysprocesses R 
      CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T 
GO
                                                                                                                                                                                                                                         
6. Reportar a base de datos en caso de que el bloqueo supere los 5 minutos ya que las alertas son autorecupeoradas";
BDD;ECBPPRQ48;Bloqueo de sesiones;BLOQUEO DE SESIONES;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando un BLOQUEO    de sql                                                                                                                                             SET NOCOUNT ON 
GO

SELECT 
      HOSTNAME
      , SPID
      , loginame
      , BLOCKED
      , REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH 
INTO #T 
FROM sys.sysprocesses R 
      CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T 
GO
      Select * from #T                                                                                                                                                                                                                                   
6. Reportar a base de datos en caso de que el bloqueo supere los 15 minutos ya que las alertas son autorecupeoradas";
BDD;ECBPPRQ122;Bloqueo de sesiones;Bloqueo de sesiones;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando un BLOQUEO    de sql                                                                                                                                             SET NOCOUNT ON 
GO

SELECT 
      HOSTNAME
      , SPID
      , loginame
      , BLOCKED
      , REPLACE (REPLACE (T.TEXT, CHAR(10), ' '), CHAR (13), ' ' ) AS BATCH 
INTO #T 
FROM sys.sysprocesses R 
      CROSS APPLY sys.dm_exec_sql_text(R.SQL_HANDLE) T 
GO
                                                                                                                                                                                                                                         
6. Reportar a base de datos en caso de que el bloqueo supere los 5 minutos ya que las alertas son autorecupeoradas";
BDD;ecbpprcl51;Slow Disk SQL;Slow Disk SQL;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando error de I/O en el error log   
SET NOCOUNT ON     
DECLARE @fechaini DATETIME, @fechafin DATETIME;
CREATE TABLE #temperrorlog ([ErrorLogDate] DATETIME, [ProcessInfo] VARCHAR(50),[Text] NVARCHAR(4000)); 
SELECT @fechaini = DATEADD(mi,-120,GETDATE()); 

SELECT @fechafin = GETDATE();
INSERT INTO #temperrorlog (ErrorLogDate, ProcessInfo , TEXT) 
EXEC xp_readerrorlog 0,1,N'',N'',@fechaini,@fechafin;
DELETE FROM #temperrorlog WHERE [ProcessInfo] LIKE '%Logon%'
SELECT *
FROM #temperrorlog 
WHERE [Text] LIKE '%error%' OR [Text] LIKE '%Suspect%' OR [Text] LIKE '%Recovery%'
DROP TABLE #temperrorlog
GO

5 En caso de que la alerta se presente por m�s de 10 min reportar a Base de Datos.
NOTA: Al tratarse de una arquitectura de Failover Cluster, esta se compone de 2 nodos ECBPPRCL50 y ECBPPRCL51 con 2 instancias: ECBPPRQ75\Q75 y ECBPPRQ29\Q29. Cada nodo aloja una instancia. Las alertas que se presentan en Dynatrace por Slow Disk muestran el nombre del servidor (nodo), m�s no el de la instancia. Por lo tanto es importante fijarse el disco que est� alertado, esto nos adyudar� a determinar a qu� instancia debemos conectarnos para validar los procesos en ejecuci�n. Ej. R:\Disk_18_Sql_Temp_Q75\ pertenece a la instancia Q75; J:\Disk_6_Sql_Data_Q29\ pertenece a la instancia Q29.""
5 - Identificar procesos de ejecuci�n de BackUp, shrink (compactaciones), reindexaciones y procesos con mucho tiempo de ejecuci�n con el siguiente query

EXEC sp_who2 active
EXEC sp_who3";
BDD;ECBPPRQ53;Memory Saturation;Memory Saturation;"1. Ingresar al servidor desde la herramienta CyberArk.
2 Validar el en el Task Manager el estado de la memoria del servidor.
2 Abrir el taskmager y verificar los usuarios que estan desconencados en el servidor de exisitir solicitar a wintel que cierren esas sessione en caso de no poder y se libera espacio 
3. Dentro del servidor, acceder a la herramienta Microsoft SQL Server Management Studuio.
4.  Identificar procesos de ejecuci�n de BackUp, shrink (compactaciones), reindexaciones y procesos con mucho tiempo de ejecuci�n con el siguiente query

EXEC sp_who2 active
EXEC sp_who3
";
BDD;ecbpprq133;CPU Saturation;CPU Saturation;"1. Ingresar al servidor desde la herramienta CyberArk.
2. Validar en el Task Manager el estado del CPU.
2.1 Abrir el taskmager y verificar los usuarios que estan desconectados en el servidor, de exisitir, cerrar esas sesiones, en caso de no poder, s solicitar a wintel que cierren esas sessiones, y se liberar� espacio 
3. Dentro del servidor, acceder a la herramienta Microsoft SQL Server Management Studuio.
4.  Identificar procesos en ejecuci�n de BackUp, shrink (compactaciones), reindexaciones y procesos con mucho tiempo de ejecuci�n con el siguiente query
EXEC sp_who2 active
EXEC sp_who3
5. Si el proceso es por ejecuci�n de backups o reindexaciones  cerrar como evento controlado.
6. Si es por compactaciones, reportar a BDD.";
BDD;TSECXDB005;CPU Saturation;CPU Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5. Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys se debe a la ejecuci�n del proceso batch, si el consumo es mayor a 98% en un tiempo de 5 min, escalar  a bdd.";
BDD;TSECXDB006;CPU Saturation;CPU Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5. Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys se debe a la ejecuci�n del proceso batch, si el consumo es mayor a 98% en un tiempo de 5 min, escalar  a bdd.";
BDD;ecbpprq131;Slow Disk SQL;Slow Disk SQL;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando error de I/O en el error log   
SET NOCOUNT ON     
DECLARE @fechaini DATETIME, @fechafin DATETIME;
CREATE TABLE #temperrorlog ([ErrorLogDate] DATETIME, [ProcessInfo] VARCHAR(50),[Text] NVARCHAR(4000)); 
SELECT @fechaini = DATEADD(mi,-120,GETDATE()); 

SELECT @fechafin = GETDATE();
INSERT INTO #temperrorlog (ErrorLogDate, ProcessInfo , TEXT) 
EXEC xp_readerrorlog 0,1,N'',N'',@fechaini,@fechafin;
DELETE FROM #temperrorlog WHERE [ProcessInfo] LIKE '%Logon%'
SELECT *
FROM #temperrorlog 
WHERE [Text] LIKE '%error%' OR [Text] LIKE '%Suspect%' OR [Text] LIKE '%Recovery%'
DROP TABLE #temperrorlog
GO

5 En caso de que la alerta se presente por m�s de 10 min reportar a Base de Datos.
NOTA: Al tratarse de una arquitectura de Failover Cluster, esta se compone de 2 nodos ECBPPRCL50 y ECBPPRCL51 con 2 instancias: ECBPPRQ75\Q75 y ECBPPRQ29\Q29. Cada nodo aloja una instancia. Las alertas que se presentan en Dynatrace por Slow Disk muestran el nombre del servidor (nodo), m�s no el de la instancia. Por lo tanto es importante fijarse el disco que est� alertado, esto nos adyudar� a determinar a qu� instancia debemos conectarnos para validar los procesos en ejecuci�n. Ej. R:\Disk_18_Sql_Temp_Q75\ pertenece a la instancia Q75; J:\Disk_6_Sql_Data_Q29\ pertenece a la instancia Q29.""
5 - Identificar procesos de ejecuci�n de BackUp, shrink (compactaciones), reindexaciones y procesos con mucho tiempo de ejecuci�n con el siguiente query

EXEC sp_who2 active
EXEC sp_who3
nota la alerta se va a presentar en el transcuros de todo el dia  y noche ya que pasa infromacion de la bdd de  omni online por lo cual no transacciona y es un servidor historico alerta controlada ";
BDD;ECBPPRQ50;Slow Disk SQL;Slow Disk SQL;"""1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos MANAGER STUDIO SQL con la conexi�n                                                                                                                                                                                          4. Ejecutamos un query para validar que no se est� ejecutando error de I/O en el error log   
SET NOCOUNT ON     
DECLARE @fechaini DATETIME, @fechafin DATETIME;
CREATE TABLE #temperrorlog ([ErrorLogDate] DATETIME, [ProcessInfo] VARCHAR(50),[Text] NVARCHAR(4000)); 
SELECT @fechaini = DATEADD(mi,-120,GETDATE()); 

SELECT @fechafin = GETDATE();
INSERT INTO #temperrorlog (ErrorLogDate, ProcessInfo , TEXT) 
EXEC xp_readerrorlog 0,1,N'',N'',@fechaini,@fechafin;
DELETE FROM #temperrorlog WHERE [ProcessInfo] LIKE '%Logon%'
SELECT *
FROM #temperrorlog 
WHERE [Text] LIKE '%error%' OR [Text] LIKE '%Suspect%' OR [Text] LIKE '%Recovery%'
DROP TABLE #temperrorlog
GO

5 - Identificar procesos de ejecuci�n de BackUp, shrink (compactaciones), reindexaciones y procesos con mucho tiempo de ejecuci�n con el siguiente query

EXEC sp_who2 active
EXEC sp_who3
nota la alerta se va a presentar en el transcuros de la noche haciendo referencia a que ejecuta el backup de la bdd de 20:30 a 21:00  ";
BDD;ECBPEBSP8;CPU Saturation;CPU Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.

nota cerrrar el evento como controlado n1 ya que es un sevidor de ebs historico que no transacciona registros";
BDD;PRECXDB008;CPU Saturation;CPU Saturation;"
Nota:este servidor es de restauraciones de bdd  no existe transaccionabilidad asi que cada evento que reporte en este servidor colocar como cerrado como  controlado";bitacora n1
BDD;DRECXDB007;CPU Saturation;CPU Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.
Nota:este servidor es de restauraciones de bdd  no existe transaccionabilidad asi que cada evento que reporte en este servidor colocar como cerrado como  controlado,no existe tiempo ya que la resturacion puede tardar horas ";
BDD;ecbpprq121;Slow Disk SQL;Evento Productivo - ECBPPRQ121.uio.bpichincha.com: Slow disk;"1. Revisi�n del Evento en Dynatrace.

2. Identificaci�n del problema (CPU-Memoria-Slow Disk).

3. Ingreso al Cyberark con el usuario y password de red.

4. Colocamos el usuario gen�rico de Eventos USRPMOCK y buscamos el dominio: uio.bpichincha.com + Conectar.

5. Luego en equipo remoto buscamos el servidor, en este caso el ECBPPRQ121 + Conectar.

6. En el servidor buscamos el motor SQL dependiendo la versi�n instalada.

7. Abrimos la consola y ejecutamos un New Query.

8. Ejecutamos los comandos SP_WHO3 o SP_WHO2 ACTIVE dependiendo la versi�n del motor SQL.

9. Verificamos las sesiones de la columna ESTATUS este en RUNNIG.

10. Revisamos que las sesiones de la columna RUNNING_TIME y CPU_TIME tenga tiempos altos de consumo.

11. Nuevamente ejecutamos los comandos SP_WHO3 o SP_WHO2 ACTIVE y validamos lo que se esta ejecutando a nivel de BDD.

12. Determinamos si es un Backup de la BDD, si es un Backup del Sistema, si es un Respaldo programado, si es un Store Procedure que esta siendo consumido por una Aplicaci�n, entre otros.

13. Monitoreo seg�n sea el caso en el paso 12, se valida seg�n el proceso que ejecute si es controlado y no haya impacto en la BDD.

14. Una vez finalizado el proceso de BDD, se autorecupera la alerta y se procede con el cierre del ticket siendo controlado.sp";
BDD;"DRECXDB003
";CPU Saturation;CPU Saturation AIX DCA;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.
Nota: los servidores del Dca no tienen los mismos recuros que el dcp por lo cual permanecen alertados y sincroniza con DCP es un evento controlado si el tiempo dura mas de 1 hora enviar a bdd ";
BDD;"DRECXDB002
";Networking;High network utilizaci�n;"1 Ingresar al servidor mediante cyberark
2. Buscamos el nombre del servidor para poder ingresar.
3. Identificar los procesos que consumen mayor cantidad de red ejecutando el siguiente query 
/*
Select * FROM GV$SESSION WHERE 0=1;
with ps as
     (select inst_id, sid, serial#, qcsid, qcserial#
      from   GV$px_session
      where  qcserial# is not null)
Select PS.QCSID as parent_session_sid, PS.QCSERIAL# as parent_session_serial, PS.inst_id as parent_session_instid, s.INST_ID, rawtohex(s.SADDR) as SADDR, s.SID, s.SERIAL#, s.AUDSID, rawtohex(s.PADDR) as PADDR, s.USER#, s.USERNAME, s.COMMAND, s.OWNERID, s.TADDR, s.LOCKWAIT, s.STATUS, s.SERVER, s.SCHEMA#, s.SCHEMANAME, TO_SINGLE_BYTE(s.OSUSER) as OSUSER, s.PROCESS, TO_SINGLE_BYTE(s.MACHINE) as MACHINE, s.PORT, s.TERMINAL, UPPER(s.PROGRAM) PROGRAM, s.TYPE, s.SQL_ADDRESS, s.SQL_HASH_VALUE, s.SQL_ID, s.SQL_CHILD_NUMBER, s.SQL_EXEC_START, s.SQL_EXEC_ID, s.PREV_SQL_ADDR, s.PREV_HASH_VALUE, s.PREV_SQL_ID, s.PREV_CHILD_NUMBER, s.PREV_EXEC_START, s.PREV_EXEC_ID, s.PLSQL_ENTRY_OBJECT_ID, s.PLSQL_ENTRY_SUBPROGRAM_ID, s.PLSQL_OBJECT_ID, s.PLSQL_SUBPROGRAM_ID, s.MODULE, s.MODULE_HASH, substr(TO_SINGLE_BYTE(s.ACTION), 1, 64) as ACTION, s.ACTION_HASH, s.CLIENT_INFO, s.FIXED_TABLE_SEQUENCE, s.ROW_WAIT_OBJ#, s.ROW_WAIT_FILE#, s.ROW_WAIT_BLOCK#, s.ROW_WAIT_ROW#, s.TOP_LEVEL_CALL#, s.LOGON_TIME, s.LAST_CALL_ET, s.PDML_ENABLED, s.FAILOVER_TYPE, s.FAILOVER_METHOD, s.FAILED_OVER, s.RESOURCE_CONSUMER_GROUP, s.PDML_STATUS, s.PDDL_STATUS, s.PQ_STATUS, s.CURRENT_QUEUE_DURATION, s.CLIENT_IDENTIFIER, s.BLOCKING_SESSION_STATUS, s.BLOCKING_INSTANCE, s.BLOCKING_SESSION, s.FINAL_BLOCKING_SESSION_STATUS, s.FINAL_BLOCKING_INSTANCE, s.FINAL_BLOCKING_SESSION, s.SEQ#, s.EVENT#, s.EVENT, s.P1TEXT, s.P1, s.P1RAW, s.P2TEXT, s.P2, s.P2RAW, s.P3TEXT, s.P3, s.P3RAW, s.WAIT_CLASS_ID, s.WAIT_CLASS#, s.WAIT_CLASS, s.WAIT_TIME, s.SECONDS_IN_WAIT, s.STATE, s.WAIT_TIME_MICRO, s.TIME_REMAINING_MICRO, s.TIME_SINCE_LAST_WAIT_MICRO, s.SERVICE_NAME, s.SQL_TRACE, s.SQL_TRACE_WAITS, s.SQL_TRACE_BINDS, s.SQL_TRACE_PLAN_STATS, s.SESSION_EDITION_ID, s.CREATOR_ADDR, s.CREATOR_SERIAL#, s.ECID, s.SQL_TRANSLATION_PROFILE_ID, s.PGA_TUNABLE_MEM, s.SHARD_DDL_STATUS, s.CON_ID, s.EXTERNAL_NAME, s.PLSQL_DEBUGGER_CONNECTED, stat.cpu  - stat.CPU_this_call_start cpu_this_call, stat.CPU, stat.UGA_memory, stat.PGA_memory, stat.Commits, stat.Rollbacks, p.program  ""OSProgram"", p.spid, p.pid
FROM GV$SESSION S, PS, GV$PROCESS p, 
     (select ss.inst_id stat_inst_id, ss.sid stat_sid,
             sum(decode(sn.name, 'CPU used when call started', ss.value, 0)) CPU_this_call_start,
             sum(decode(sn.name, 'CPU used by this session', ss.value, 0)) CPU,
             sum(decode(sn.name, 'session uga memory', ss.value, 0)) uga_memory,
             sum(decode(sn.name, 'session pga memory', ss.value, 0)) pga_memory,
             sum(decode(sn.name, 'user commits', ss.value, 0)) commits,
             sum(decode(sn.name, 'user rollbacks', ss.value, 0)) rollbacks
      from   GV$sesstat ss, GV$statname sn
      where  ss.STATISTIC# = sn.STATISTIC#
      and    ss.inst_id = sn.inst_id
      and    (sn.name = 'CPU used when call started' or
              sn.name = 'CPU used by this session' or
              sn.name = 'session uga memory' or
              sn.name = 'session pga memory' or
              sn.name = 'user commits' or
              sn.name = 'user rollbacks')
      group by ss.inst_id, ss.sid) stat
 WHERE 
(
s.STATUS = 'ACTIVE'
) AND  ( (s.USERNAME is not null) and (NVL(s.osuser,'x') <> 'SYSTEM') and (s.type <> 'BACKGROUND') ) 
and  p.addr(+) = s.paddr AND p.inst_id(+) = s.inst_id 
and  stat.stat_inst_id = s.inst_id and stat.stat_sid = s.sid 
and  PS.SID (+) = S.SID AND PS.SERIAL# (+) = S.SERIAL# and PS.INST_ID (+) = S.INST_ID 
order by MODULE, OWNERID; */
3. al ejecutar el script se verificara que se tiene sessiones ingresando a la base de datos 
Nota omitir la alerta ya que en el dca los recueros son minimos y es una alerta contrada  ";
BDD;ECBPEBST7;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp).
5. Si la memoria se eleva por m�s de 5 minutos al 97% reportar de inmediato a bdd, caso contrario.
6. Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD, caso contrario el evento se recupera autom�ticamente.";
BDD;PRECBPSG03 ;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: El evento que presenta por saturacion de memoria en dynatrace  no es la real se debe verificar el dashbord de unix el cual toma  la memoria computacional, si se encuentra en rojo, reportar, caso contrario cerrar indicando que es un evento controlado y no reporta la memoria real https://xyc10065.live.dynatrace.com/index.jsp?state=W5OHiIGFgThLgMK_4bTMuLyC81C6RRzc95p8TRdR4L0&code=2679782c-1aab-46f4-8246-bce697239142#dashboard;gtf=-10m;gf=all;id=3e82d414-3faa-4997-ae73-fc014376add0";
BDD;PRECBPSG04;Memory Saturation;Memory Saturation;;
BDD;PRECXDB003;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: El evento que presenta por saturacion de memoria en dynatrace  no es la real se debe verificar el dashbord de unix el cual toma  la memoria computacional, si se encuentra en rojo, reportar, caso contrario cerrar indicando que es un evento controlado y no reporta la memoria real https://xyc10065.live.dynatrace.com/index.jsp?state=W5OHiIGFgThLgMK_4bTMuLyC81C6RRzc95p8TRdR4L0&code=2679782c-1aab-46f4-8246-bce697239142#dashboard;gtf=-10m;gf=all;id=3e82d414-3faa-4997-ae73-fc014376add0";
BDD;PRECXDB002;Memory Saturation;Memory Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar como ssh
3. En una consola del servidor ejecutamos el comando ""topas"".                                                                                                                                                                                   
 4. Visualizamos en la parte derecha el porcentaje de memoria computacional (% Comp). Si el porcentaje es mayor al 93% y el evento persiste m�s de 15 minutos notificar a BDD.
Nota: El evento que presenta por saturacion de memoria en dynatrace  no es la real se debe verificar el dashbord de unix el cual toma  la memoria computacional, si se encuentra en rojo, reportar, caso contrario cerrar indicando que es un evento controlado y no reporta la memoria real https://xyc10065.live.dynatrace.com/index.jsp?state=W5OHiIGFgThLgMK_4bTMuLyC81C6RRzc95p8TRdR4L0&code=2679782c-1aab-46f4-8246-bce697239142#dashboard;gtf=-10m;gf=all;id=3e82d414-3faa-4997-ae73-fc014376add0";
BDD;ecbpfdbp2;Evento DB2; Error en la instancia DB2 db2fndi1;"Depuracion Automatica de Logs ya no requeridos por la bdd 
1.- El evento esta controlado, se esta trabajando para excluir la alerta.
2.- Cuando se presenta la alerta Cerrar  con el comentario ""Alerta controlada por borrado de log""";
BDD;ecbpbinp1;Evento Oracle;ORA-16401;"El error ORA-16401 es controlado ya que un archivo de registro de archivelog fue rechazado  Este error generalmente ocurre en configuraciones de Data Guard y suele pasar por un error de networking 
Nota Favor cerrar el evento como incidente controlado ";
BDD;"ECBPEBSP7
";CPU Saturation;CPU Saturation AIX DCA;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.
Nota: cerrar como contrado ya que no es una bdd transaccional solo maneja ebs referencs  que es de consultas en el caso que la alerta sobrepase los 97% y dure mas de 15 min elevar a bdd  ";
BDD;"PPECXDB002
PPECXDB003
PPECXDB004
PPECXDB005
";CPU Saturation;CPU Saturation AIX;"De acuerdo a las verificaciones realizadas los servidores a continuaci�n son parte del proyecto de Bancs Preproducci�n los mismos que todav�a no est�n entregados a base de datos producci�n para su respectiva administraci�n por lo cual cualquier evento reportado por dynatrace relacionado a  Jes�s Viciosa 
javicios@pichincha.com
ahmirand@pichincha.com
fdgarcia@pichincha.com
luiafern@pichincha.com";
BDD;Servidores Oracle;Evento Oracle;"error por temas de firewoll o cuando trata de llegar a la bdd  el cual no registra el archivelog 
ejemplo de error
Oracle Database PPWSO2IS1:Oracle Errores ORA ORA-16055 - Oracle Database PPWSO2IS1";"cerra el evento como controlado siempre se va a presentar estos tipos de errores ya que por algun cambios o versionamientos en la red o firewall se va a notificar en el alert log de la bdd  y presentandose el codifo de error ora-16055
";
BDD;Servidores Oracle;Evento Oracle;"error por temas de generaci�n de File Server (RFS)  archivos de sincronizaci�n de datagard
ejemplo de error
Oracle Database PPWSO2IS1:Oracle Errores ORA ORA-16040 - Oracle Database PPWSO2IS1";"cerra el evento como controlado siempre se va a presentar estos tipos de errores ya que por algun cambios o versionamientos en la red o firewall se va a notificar en el alert log de la bdd  y presentandose el codifo de error ora-16040
Tambie se puede verificar por el siguiente link si se desincronizo los archive del datagar cuando son por mucho tiempo y el siguiente datshboard va aparecer como rojo y va a salatar una nueva alerta de error de replicai  
https://xyc10065.apps.dynatrace.com/ui/apps/dynatrace.classic.dashboards/#dashboard;gtf=-2h;gf=all;id=e971dc37-57d2-485b-a704-02b1f2b5a549";
BDD;Servidores Oracle;Evento Oracle;"error por problema de compilacion de codigo o permisos al conectarse a la bdd
ejemplo de error
Oracle Database LOGINS21:Oracle Errores ORA ORA-12012 - Oracle Database LOGINS21";cerra el evento como controlado  el evento debe cerrar como controlado ya que las aplicaciones son las cuales se encargan de realizar compliaciones de codigo y cuadno falla les da este tipo de evento ;
BDD;PRECXDB006;Active Sessions BD;Nuimero de sessiones activas en la bdd;cerra el evento como controlado  Revisando el dynatrace de la alerta se verifica que las sesiones se suben cada fin de mes por  la depuraci�n de bancs  por lo cual pueden cerrar el evento como Monitoreo N1  como controlado por depuraci�n de bancs  cada fin de mes ;
BDD;PRECXDB007;Active Sessions BD;Nuimero de sessiones activas en la bdd;cerra el evento como controlado Revisando el dynatrace de la alerta se verifica que las sesiones se suben cada fin de mes por  la depuraci�n de bancs  por lo cual pueden cerrar el evento como Monitoreo N1  como controlado por depuraci�n de bancs  cada fin de mes ;
ESPACIO DE SEPARACI�N;;;;;
UNIX;ecbpbinp1;CPU Saturation;"Hay una saturaci�n del CPU,  debido al proceso que realiza respaldos de una BDD de 00:00 a 01:20, todos los d�as.
OJO: si toma mas de este tiempo se debe escalar ";"1. Validar en Dynatrace que servidor se relaciona con la alerta.
2.Ingresar al servidor mediante Cyberark.
3. Ejecutar el comando nmon.
4. Tipear la letra T (para que comunique todos los procesos que se est�n ejecutando).
5. Escribir el n�mero 4 para ordenar de mayor a menor.
6. Se relaciona el proceso ejecutado con los procesos AIOSERVER, BPBKAR, WSCANSW, RTSORA

- AIOSERVER: La saturaci�n de CPU producida a causa de procesos aioserver dentro del servidor se debe validar con Base de Datos, debido a que son procesos asociados a procesos de base de datos dentro del servidor.
 
- BPBKAR: La saturaci�n de CPU producida a causa de procesos BPBKAR dentro del servidor se debe a que dentro del servidor se est� realizando procesos de respaldo. La primera acci�n a tomar ser�a validar los respaldos que se encuentran ejecutando en el servidor con el �rea de Respaldos.
Validar dentro del Dynatrace la ejecuci�n de este proceso en d�as o semanas anteriores y correlacionar el evento.

- WSCANSW: La saturaci�n de Memoria producida a causa de procesos WSCANSW dentro del servidor se debe a que dentro del servidor se encuentra corriendo el proceso de autodescubrimiento del ILMT, este proceso no dura m�s de 45 minutos dentro del servidor por lo que se deber�a considerar como un comportamiento normal. Si excede el tiempo se debe realizar una revisi�n del proceso dentro del servidor.

- RTSORA:  La saturaci�n de CPU producida a causa de procesos RTSORA dentro del servidor se debe a que dentro del servidor se est� realizando procesos de respaldo. La primera acci�n a tomar ser�a validar los respaldos que se encuentran ejecutando en el servidor con el �rea de Respaldos.
Validar dentro del Dynatrace la ejecuci�n de este proceso en d�as o semanas anteriores y correlacionar el evento.

8. Monitorear alerta hasta su finalizaci�n. 
9. Revisar que los valores se hayan estabilizado.
10. En caso de que los valores no se estabilicen, escalar a Torre.
11. En caso que que los valores sean estables, cerrar el ticket.
";
UNIX;precxodb002;CPU Saturation;Existen procesos de respaldo que provocan la saturaci�n del CPU.;;
UNIX;PRECLMN006;CPU Saturation;Existen procesos que provocan la saturaci�n del CPU.;;
UNIX;PRECBPCM01;CPU Saturation;Existe proceso emguisrv propio de la aplicaci�n de Control M  que provocan la saturaci�n del CPU. Cuando se encuentre este proceso se debe monitorear su consumo de CPU en Dynatrace y su ejecuci�n no supera los 30 minutos consecutivos.;;
UNIX;preclmn005;CPU Saturation;Existen procesos que provocan la saturaci�n del CPU.;;
UNIX;ecbplxapp23;CPU Saturation;Existen procesos de respaldos que provocan la saturaci�n del CPU.;;
UNIX;PRECBPHCA1;CPU Saturation;Existen procesos que provocan la saturaci�n del CPU. Este evento es peri�dico debido a un proceso de respaldo los d�as s�bado entre las 19:00 y 23:00. No se debe generar incidente en el horario.;;
UNIX;"PRECBPMP02
(WAS Batch Motor Pagos 1)";CPU Saturation;"Existen procesos que provocan la saturaci�n del CPU. Las alertas de CPU del servidor PRECBPMP02 se generan alertas de consumo todos los d�as de 8:00 a 8:20, el evento dura hasta 10 minutos, se valido que es por procesos de controlM
18/10.";;
UNIX;precbpyn01;CPU Saturation;Existen procesos que provocan la saturaci�n del CPU. De ser el proceso BPBKAR se debe a que se esta ejecutando un respaldo por lo que puede alertar cpu y memoria;"1. Ingresar al servidor mediante Cyberark.
2. Verificar el espacio utilizado del file system /Respaldo en la columa %Used: ingresando el siguiente comando: df -gt /Nombre del file 
3. Depurar y acceder al servidor precbpyn01, ingresando el comando: cd /Nombre del file  
4. Ver los archivos o directorios con m�s peso en GB ingresandoel comando: du -gs ./* | sort -n 
5. Verificar cuales directorios tienen m�s peso, para ingresar se digita el comando: cd Nombre del directorio 
6. Ingresar el comando cd, luego colocar nombre del directorio que m�s peso tiene. Ejemplo: cd PR1VIOS03  
7. Visualizar los archivos ingresando el comando: ls -lrt *.mksysb 
8. Confirmar previamente si se realiz� un full back up hasta la fecha correspondiente.
9. Luego de confirmar si se tiene el �ltimo respaldo generado, se procede a eliminar los archivos anteriores, escribiendo el comando: 
rm <nombre_archivo1> <nombre_archivo2> <nombre_archivoN> 
10. Verificar si se han eliminado completamente los archivos y regresar al directorio de los file system, para verificar cual otro directorio tiene m�s peso. Se repite los pasos 3, 4, 5 y 6.
11. Una vez detectado el nuevo directorio con m�s peso, se repiten los pasos 7, 8 y 9.
12. Se debe repetir el procedimiento, desde el paso 5 hasta que el file system deje de estar alertado. 
13. Cada que se eliminan achivos, se puede verificar el porcentaje usado en la columna %Used, usando el comando: df -gt /Nombre del file 

OJO: Si ya se eliminaron todos los archivos dentro del directorio VIOS, y el file system sigue alertando o cerca del umbral, se debe depurar el directorio BACKUP-HMC:
1. Ingresar al directorio BACKUP_HMC con el comando:  cd /Respaldo/BACKUP_HMC 
2. Validar el directorio con m�s peso usando el comando: du -gs ./* | sort -n 
3. Ingresar al directorio con m�s peso (es el �ltimo de la salida del comando anterior).
4. Listar los archivos contenidos usando el comando cd <nombre_directorio> y luego ls -lrt.
5. Eliminar los archivos m�s antiguos, usando el comando rm <nombre_archivo1> <nombre_archivo2> <nombre_archivoN> 
6. Verificar el porcentaje usado en la columna %Used, usando el comando df -gt /Nombre del file. Ejemplo: df -gt /Respaldo.  
7. Repetir el procedimiento anterior si al eliminar los archivos, a�n sigue alertado o cerca del umbral, el file system.";
UNIX;"PRECBPMP02
(WAS Batch Motor Pagos 1)";Memory Saturation;Existen procesos que provocan la saturaci�n de Memoria. Existe todos los dias un pico de CPU a las 8 am hasta las 8:20 am.;"1. Validar que la alerta se encuentre acitva en Dynatrace.
2. El servidor PRECBPMP02 se ejecutan procesos por control M de los servicios regularmente desde las 08:00 a las 08:30 que provocan saturaci�n  de memoria en el servidor. Si se encuentra en este horario se debe esperar a que se normalice el consumo de memoria.
3. En el caso de que no se normalice el consumo de memoria esccalar a la torre para el an�lisis.
4. En el caso de que se normalice el consumo de memoria y la alerta no persista en Dynatrace cerrar el ticket.
";
UNIX;ecbpfcnp1, ecbpfcnp2;CPU Saturation;Existen procesos propios de la aplicaci�n que provocan la saturaci�n de CPU. Existe en horario 08:00 - 22:00.;"1. Validar en Dynatrace que servidor se relaciona con la alerta.
2.Ingresar al servidor mediante Cyberark.
3. Ejecutar el comando topas.
4. Aplastar la letra T (para que comunique todos los procesos que se est�n ejecutando).
5. Aplastar 3 vecces seguidas la letra c y validar el consumo de CPU.
6. Validar que servicios tiene mayor consumo de CPU; para este servidor si existe saturaci�n por procesos java, se debe realizar un monitoreo por 45 minutos, en el caso de que el consumo de CPU no se normalice, escalar a la torre UNIX con la evidencia correspondiente. Si los procesos que producen la sauraci�n no corresponden a java escalar inmediatamente a la torre UNIX.
7. Monitorear ejecuci�n hasta su finalizaci�n. 
8. Validar que la alerta no persista en Dynatrace.
9. Cerrar el ticket.";
UNIX;DRECBPYN01;Memory Saturation;Existen procesos que provocan la saturaci�n de Memoria. Servidores empezados con DR (Disaster Recovery) tienen picos temporales. ;"1. Verificar que el consumo de recursos sea de manera normal, debido a un evento recurrente en el Cyberark
2. Realizar seguimiento hasta su finalizaci�n.
3. El error debe solventarse autom�ticamente.";
UNIX;ecbpebsb2;Memory Saturation;Existen procesos que provocan la saturaci�n de Memoria. Evento relacionado con picos y comportamiento continuo debido a un proceso puntual. ;"1. Validar en Dynatrace que servidor se relaciona con la alerta.
2.Ingresar al servidor mediante Cyberark.
3. Ejecutar el comando nmon.
4. Aplastar la letra T (para que comunique todos los procesos que se est�n ejecutando).
5. Aplastar n�mero 4 para ordenar de mayor a menor.
6. Se relaciona el proceso ejecutado con los procesos del manual TCSECU_N1_UNIX_Saturaci�n_CPU-MEMORIA_procesos 1
7. Validar el tiempo de ejecuci�n dependiendo del proceso de acuerdo al manual:
- AIOSERVER
- BPBKAR
- WSCANSW
- RTSORA: 
8. Monitorear ejecuci�n hasta su finalizaci�n. 
9. Revisar que los valores se hayan estabilizado.
10. En caso de que los valores no se estabilicen, escalar a Torre.
11. En caso que que los valores sean estables, cerrar el ticket.";
UNIX;ecbphabn2;Memory Saturation;Existen procesos que provocan la saturaci�n de Memoria. Evento relacionado con picos debido a un proceso puntual;;
UNIX;ecbpmiht1;Memory Saturation;Existen procesos que provocan la saturaci�n de Memoria. Evento relacionado con picos debido a un proceso puntual, se valida dentro del servidor los procesos en ejecuci�n;;
UNIX;ecbpfcpp1 / ecbpfcpp2;DISCO SATURACION/LOW SPACE;Se cambia los archivos mas antiguos de la ruta saturada a un nuevo directorio.;"1. Validar en Dynatrace que proceso se relaciona con la alerta.
2.Ingresar al servidor mediante Cyberark.
3. Ejecutar el comando  df -gt /Nombre del file. Ejemplo: df -gt /opt/IBM 
4. Ingresar al siguiente directorio dentro del file correspondiente, donde se generan los ""java cores"". Ejemplo: cd /opt/IBM/WebSphere/AppServer/profiles/AppSrv01 
5. Digitar el siguiente comando para enlistar los archivos, desde el m�s antiguo al m�s reciente: ls -lrt 
5. 1. Al final del listado generado, observar los archivos que corresponden a los logs realcionados con errores de la aplicaci�n con el siguiente patr�n: 
core.20XXXXXX.XXXXXX.XXXXXX.XXXX.dmp 
javacore.20XXXXXX.XXXXXX.XXXXXX.XXXX.txt
Snap.20XXXXXX.XXXXXX.XXXXXX.XXXX.trc 
jitdump.20XXXXXX.XXXXXX.XXXXXX.XXXX.dmp 
7. Mover los archivos a otro espacio con mayor espacio de almacenamiento, usando el comando: mv <archivo_1> <archivo_2> <archivo_N> /Nombre del directorio. Ejemplo: mv <archivo_1> <archivo_2> <archivo_N> /bk_mksysb/ecbpfcpp1/ecbpfcpp1-coredumps.
8. Verificar que los archivos se movieron, digitando el comando: ls -lrt /bk_mksysb/ecbpfcpp1/ecbpfcpp1-coredumps 
9. Verificar el porcentaje utilizado del file system (columna %Used) se haya reducido, ingresar el siguiente comando: df -gt /opt/IBM
10. Realizar el mismo proceso de depuraci�n con el servidor ecbpfcpp2, modificando el comando del punto 7 y 8: ecbpfcpp2.
11. Finalizado el proceso de depuraci�n para los dos servidores ecbpfcpp1 y ecbpfcpp2, comunicar a la torre UNIX, para analizar los logs.";
UNIX;preclsd001;DISCO SATURACION/LOW SPACE;Umbral del 80% o Superior;El FS /nxlog debe ser depurado por la C�lula de Seguridad de Banco, due�o del servicio de nxlog se debe escalar la alerta al grupo TEC_BP_N3_PLATAFORMA_CS con responsable ERICK DAMIAN RISUENO BENITEZ, validar responsable de la aplicaci�n. Enviar correo a los siguientes destinatarios frazambr, errisuen, plataformacentralizada, usrpctcs con el detalle de la alerta.;
UNIX;"ecbplxakp1
ecbplxakp2
ecbplxakp3
ecbplxakp5
ecbplxakp6
ecbplxakp7
";Evento en proceso de Aplicaci�n;Este procedimiento permite conocer el estado del cluster de KAFKA;"1.- Ingresar a cada servidor por cyberack en el orden que se detalla a continuaci�n:
1.1. ecbplxakp1
sh HealthCheckConectoresKafka.sh : Luego de la ejecuc��n se deben revisar que todos los conectores esten en running.
ps -ef | grep -i standalone : Luego de esta ejeuci�n se debe revisa que este el proceso stndalone.
sh HealthCheckKafka.sh : Luego de ejecutar el comando se debe esperar que el numero de topicos no sobrepase 500.
systemctl status kafka:Se debe verificar que el servicio este activo
1.2 ecbplxakp2
systemctl status kafka: Se debe verificar que el servicio este activo
1.3 ecbplxakp3
sh HealthCheckConnectorsKafka.sh : Luego de la ejecuc��n se deben revisar que todos los conectores esten en running.
ps -ef | grep -i standalone : Luego de esta ejeuci�n se debe revisa que este el proceso stndalone.
systemctl status kafka: Se debe verificar que el servicio este activo
1.4 ecbplxakp5
systemctl status zookeeper.service: Se debe verificar que el servicio este activo
1.5 ecbplxakp6
systemctl status zookeeper.service: Se debe verificar que el servicio este activo
1.6 ecbplxakp7
systemctl status zookeeper.service: Se debe verificar que el servicio este activo.
NOTA: Si los resultados no son los esperados se debe comunicar con el stabdby de turno de la torre UNIX
SUGERENCIA: Tomar la referenci del documento TCSECU_N1_UNIX_PROCEDIMIENTO_REVISION_KAFKA para mas detalles";
UNIX;PRECBPSG01;CICS SNA;"Este procedimiento permite conocer el estado de los 
SNA- CICS en SIGLOXXI";"Ingresar al servidor por cyberack en el orden que se detalla a continuaci�n:
su - UCICS : Con este comando ingresamos al menu de opciones de administraci�n.
Escager opccion 77 ""SNA"" : Aqu� podemos ingresa al submen� de opciones de administraci�n.
Escoger opcion 4 ""Consulta Global de Conexiones"": Debemos escojer esta opci�n para revisar que los SNA esta enestado activo a excepci�n del SNA ""HPRDSN0X            Eth  Starting       Suc Norte"" que tiene un estado diferente a active.
Se debe salir del menu de los SNA hasta llegar al men� principal y se deben seguir los siguientes pasos:
Escoger opcion 1 ""Consulta Estado de CICS"": Para revisar que los CICS esten en estado active; asi cmo se muestra a continuaci�n:

Consulta Estado de CICS                                           PRECBPSG01
------------------------------------------------------------------------ChecCics

    ORD  SUBSYSTEM       APLICATION            PID       STATUS

     1   cics.CICSHPR1   Asesores              26804486     active
     2   cics.CICSHPRD   Teller                17105370     active
     3   cics.CICSHPRT   Portal Empresarial    42860840     active
     4   cics.CICSHPVC   Visor Contable        36897216     active
     5   cics.CICSHTD1   Internexo Personas    59113944     active

NOTA: Si los resultados no son los esperados se debe comunicar con el stabdby de turno de la torre UNIX
SUGERENCIA: Tomar la referenci del docuento TCSECU_ITO_N1_UNIX_REVISIONES_SNA_SIGLOXXI para mas detalles
";
UNIX;precbpyn01;Incremento de espacio en filesystem;Este procedimiento permite realizar la depuraci�n del file system /opt/IBM cuando se generar archivos de log pesados;"Ingresar al servidor precbpyn01
1. Verificar el espacio utlizado del file system /Respaldo en la columa %Used: df -gt /Respaldo
2. Para depurarlo, se debe ingresar el siguiente comando: cd /Respaldo
3. Ingresamos el siguiente comando para ver los archivos/directorios con m�s peso en GB, las �ltimas filas son los que m�s peso tienen: du -gs ./* | sort -n
4. Los directorios VIOS y BACKUP_HMC son los que m�s peso tienen y generan la alerta. Ingresamos al direcotorio con m�s peso con el siguiente comando: 
cd VIOS (en caso de que VIOS pese m�s) 
cd BACKUP_HMC (en caso de que BACKUP_HMC m�s) 
5. Ingresamos el siguiente comando para verificar los directorios con m�s peso: du -gs ./* | sort -n
6. Ingresamos al �ltimo directorio que es el que m�s peso tiene con el siguiente comando:
 cd <NOMBRE_DIRECTORIO_MAS_PESADO>
7. Ingresamos el siguiente comando para visualizar los archivos:
 ls -lrt *.mksysb (en caso de haber ingresado al directorio VIOS)
 ls -lrt (en caso de haber ingresado al directorio BACKUP_HMC)
8. Se obtiene un listado de los archivos de backup desde el m�s antiguo al m�s nuevo. Del listado obtenido, el �ltimo en la lista es el backup m�s reciente, se procede a eliminar los backups m�s antiguos con el comando: rm <nombre_archivo1> <nombre_archivo2> <nombre_archivoN>
9. Una vez eliminados los archivos, se debe regresar al directorio anterior para ingresar al directorio que tenga m�s peso:
 cd ..
 du -gs ./* | sort -n
10. Repetimos el proceso de los pasos 7 y 8
NOTA: cada vez que se ralice el paso 8, es necesario validar el estado del file system con el comando df -gt /Respaldo. Validar hasta que se tenga un porcentaje de %Used del 70% aproximadamente.
SUGERENCIA: Tomar la referenci del documento TCSECU_N1_UNIX_Depuraci�n_file_system_precbpyn01 para mas detalles";
UNIX;"PRECBPOC13
PRECBPOC14";Incremento de espacio en filesystem;Este procedimiento permite realizar la depuraci�n del file system /backup de los servidores PRECBPOC13 y PRECBPOC14;"Ingresar a los servidores PRECBPOC13 y PRECBPOC14 mediante Cyberark.
1. Verificar el porcentaje de uso del file system /backup: df -gt /backup
2. Ingresamos al directorio de logs del file system con el comando: cd /backup/LOGS
3. Previo a depurar el file system, es importante consultar con respaldos cuando fue el �ltimo backup que generaron de los servidores PRECBPOC13 y PRECBPOC14, espec�ficamente del file system /backup.
4. Con la confirmaci�n de que, si existe un respaldo vigente, se puede proceder a depurar los logs m�s antiguos a partir del d�a s�bado. Con el siguiente comando, se podr� ir validando si existen logs antiguos para ser depurados:
find . -type f -mtime +7 -ls | head
find . -type f -mtime +7 -ls | tail
find . -type f -mtime +7 | wc -l
NOTA: una vez que el comando muestra un resultado, es importante presionar CONTROL + C para recuperar el control de la consola.
5. El valor �+7� en el comando anterior indica que se van a buscar los archivos que tengas m�s de 7 d�as de antig�edad. Si al momento de ejecutar el comando no se tiene ning�n resultado, se debe disminuir el valor del n�mero hasta un m�ximo de ""+5""
NOTA: es recomendable empezar con el valor de �+7�.
6. Una vez que se determina cuales logs se van a depurar, se debe ingresar el siguiente comando, donde el valor de �+7� es el que se determin� en el paso anterior.
find . -type f -mtime +7 -exec rm -f {} \; 
NOTA: Comando para eliminar archivos mayores a 7 d�as.Validar siempre que se encuentren en la ruta /backup/LOGS (pwd)
7. Para validar si disminuy� el espacio utilizado del file system, se ingresa el comando y se valida el %Used: df -gt /backup
NOTA: Si los resultados no son los esperados se debe comunicar con el stabdby de turno de la torre UNIX
SUGERENCIA: Tomar la referenci del documento TCSECU_N1_UNIX_Depuraci�n_file_system_WAS_omni para mas detalles";
UNIX;PRECBPSG01;Incremento de espacio en filesystem;En caso de encontrar el FS /var/log alertado se realiza los siguientes pasos para su depuraci�n;"Nota: No se debe eliminar ni los directorios ni los archivos, se debe realizar la copia del contenido de los archivos en un backup y posterior se lo vacia.

Ingresar al servidor que presenta la alerta en este caso PRECBPSG01
1. Revisar el espacio utilizado y verificar si el filesystem supera el umbral establecido /var/log 
df -gt
2. Ingresar al filesystem 
cd /var/log
3. listar los archivos que se encuentren en el filesystem 
ls -lrt
4. ordenar los archivos seg�n su peso
du -gs ./* | sort -n
Nota: Se genera la lista con los directorios que tienen mas peso en ese caso se debe liberar el espacio generando un backup.
5. Realizar la copia del archivo que se va a vaciar en un filesystem con mas espacio puede ser backup
cp -p kern /backup/kern_backup_21_02_2025
6. se verifica que se haya creado correctamente el backup 
cd /backup
ls -lrt | grep kern_backup_21_01_2025
tail -f kern_backup_21_01_2025
7. Despues de haber realizado y verificado que se hizo la copia se ingresa al filesystem /var/log
cd /var/log
8. Se realiza el vaciado del archivo 
>kern
9. Se revisa el espacio utilizado que queda despues del vaciado
df -gt 
En caso que se necesite liberar mas espacio se puede repetir el mismo proceso en archivos como mail, user, daemon, secure.

SUGERENCIA: Tomar la referenci del documento TCSECU_N1_UNIX_Depuraci�n_file_system_var_log_AIX para mas detalles";
UNIX;Control M - AIX;Agente Control M;Este procedimiento trata de como validar que el servicio de Control M se encuentra arriba, caso contrario se deber� subir manualmente;"0. Ejecutar el comando ps-ef |grep ctm
Este comando permitir� visualizar si existen procesos propios de la aplicaci�n arriba

NOTA: En el caso de que si existan procesos relacionado al agente de control M, se debe reiniciar el agente.

REINICIO DE AGENTE:
1. Revisar el incidente asignado de Command Center Batch , donde se indica el servidor afectado
2.  Ingresar al servidor mediante Cyberark 
 3. Ejecutar el comando df -gt
 Ir al directorio:
cd /home1/cmbpv9/ctmagt/ctm/scripts
2. Ejecutar el script shut-ag para bajar el agente de control m 
./ shut-ag
3. Ejecutar el script start-ag - para subir el agente de control m 
./start-ag
Presionar Enter en Ambas Preguntas

INICIO DE AGENTE:
1 . Ir al directorio:
cd /home1/cmbpv9/ctmagt/ctm/scripts
2. Ejecutar el script start-ag
./start-ag
Presionar Enter en Ambas Preguntas

NOTA: Puede existir otra versi�n instalada de agente de control M, por lo que la ruta puede cambiar a /home1/cmbpv8.";
UNIX;PRECLES003;Incremento de espacio en filesystem;En caso de encontrar el FS /var/log alertado se realiza los siguientes pasos para su depuraci�n;"
Ingresar al servidor que presenta la alerta en este caso PRECLES003
1. Revisar el espacio utilizado y verificar si el filesystem supera el umbral establecido /var/log 
df -h
2. Ingresar al filesystem 
cd /var/log
3. listar los archivos mas pesados que se encuentren en el filesystem 
ls -lSr
4. Comprimir los archivos mas pesados 
gzip messages-*
5. Validar que se depuro
ls -lSr
6. Comprobar el espacio del filesystem
df -h .

SUGERENCIA: Tomar la referenci del documento TCSECU_N1_UNIX_Depuraci�n_file_system_var_log_REDHAT para mas detalles
";
Unix;ecbplxapd4;DISCO SATURACION/LOW SPACE;En caso de alertar bajo el detalle: Evento EnP - ecbplxapd4.desa.bpichincha.com: Low disk space � Saturacion de Disco;"1. Ingresar a la alerta sobre el servidor ecbplxapd4
2. Validar que la ruta inicial que se esta alertando sea sobre: "" /var/lib/docker/devicemapper/mnt/"" 
3. Colocar como comentario en el problema: ""Servidor pertenece al pull de servidores de Openshift Desarrollo; al ser una ruta de contenedores esta se autodepura""
4.  Esperar 20 Minutos.
5. Cerrar el Incidente.

Nota: En caso de que posterior a los 20 minutos siga el incidente, comunicar al StandBy de Unix para validar si existen trabajos sobre ese servidor";
UNIX;preclsa022;Evento-nxlog;TCP connectivity;La alerta por conectividad de NXLOG debe ser escalado a la C�lula de Seguridad de Banco, quienes son los due�os del servicio de nxlog, se debe escalar al grupo TEC_BP_N3_PLATAFORMA_CS con responsable ERICK DAMIAN RISUENO BENITEZ, validar responsable de la aplicaci�n. Enviar correo a los siguientes destinatarios frazambr, errisuen, plataformacentralizada, usrpctcs con el detalle de la alerta.;
UNIX;preclsa009;Evento-nxlog;TCP connectivity;La alerta por conectividad de NXLOG debe ser escalado a la C�lula de Seguridad de Banco, quienes son los due�os del servicio de nxlog, se debe escalar al grupo TEC_BP_N3_PLATAFORMA_CS con responsable ERICK DAMIAN RISUENO BENITEZ, validar responsable de la aplicaci�n. Enviar correo a los siguientes destinatarios frazambr, errisuen, plataformacentralizada, usrpctcs con el detalle de la alerta.;
UNIX;PR1VIOS01 PR1VIOS02;Monitoreo de Memoria;Monitoreo por hora de la memoria de las VIOS de Bancs;"1. Ingresar al servidor mediante el Cyberark.
2. Ejecutar el comando nmon.
3. ingresar la opci�n ""m"" por teclado.
4. Verificar la memoria los siguientes par�metros:
FileSystemCache                                                                                                
(numperm) 21.9%                                                                                                
Process    4.5%                                                                                                
System    18.3%                                                                                                
Free      55.2%   -> Si este valor tiene un valor inferior a 10%, indica que la memoria ha superado el 90%
6. Validar el valor cada hora y sus valores.
7. Por el momento es una alerta visual sin acci�n por ejecutar.";
ESPACIO DE SEPARACI�N;;;;;
WINTEL;ecbpprap17 y ecbpprap18;DISCO SATURACION/LOW SPACE;Caso verificado y coordinado con TEUNO y BP;"1. Ingresar al servidor mediante el Cyberark.
2. Dentro del servidor ingresar al disco C, e ingresar a la carpeta ""temp"", dentro de la carpeta ""treesize"".
3. Ejecutar como administrador el programa ""treesize"".
4. Verificar qu� esta saturando el disco.
5. Tomar una captura a la pantalla y generar un correo dirigido a Jessica Cabrera jessica.cabrera@teuno.com (administradores de los discos C y D de esos servidores).
6. En el correo especificar, la necesidad de depuraci�n de los discos al generar una alerta en la infraestructura.
7. Una vez ejecutada la depuraci�n la alerta no debe persentarse.";
WINTEL;ecbpprw96;DISCO SATURACION/LOW SPACE;Workaround definido y probado. En ambiente productivo;"1. Ingresar al servidor alertado
2. Abrir el programa ""TreeSizeFree-Portable"" que se encuentra en la siguiente ruta C:\temp\TreeSizeFree-Portable (click derecho y correr como administrador)
3. Proceder con la depuraci�n de archivos con extesi�n .log con tiempo de antiguedad mayor a un mes de la ruta ""D:\sitios\pub\Tcs.Checklist\log"". ";
WINTEL;ecbpprw28;Evento en proceso de Aplicaci�n;"En Dynatrace aparece la alerta ""BanRed File Update"", para lo cual antes de realizar el workaround se debe esperar que solicite el equipo de Shiftleaders";"Esperar la solicitud de matar el proceso Standln.exe por parte del equipo de Shiftleaders, para lo cual realizar lo siguiente:
1. Verificar en Service Now la existencia de una tarea asignada al grupo TEC_TCS_N1_RYR_ICC_EVENTOS, misma que debi� ser creada por SMO Banco (esto implica que est� autorizado por Banco, no puede ser creada por alguien de TCS).
2. Ingresar al servidor ecbpprw28
3. Dar click derecho sobre la barra de tareas e Ingresar al task manager>Details
4. Click derecho sobre Standln.exe y luego dar click sobre End task
5. Si luego de 10 a 15 minutos la alerta no se recupera en Dynatrace se debe transferir la tarea de incidente a Wintel, si la alerta se recupera se debe proceder a cerrar la tarea asignada.
 
";
WINTEL;"precwcl010
precwcl006
precwcl005";Networking;Alta utilizaci�n de tarjeta de red;"Para verificar se debe realizar los siguientes pasos:
1. Ingresar al servidor alertado
2. Dar click derecho sobre la barra de tareas e Ingresar al administrador de tareas
3.  Ir a Performance>Open Resourse Monitor>Network
4. Luego en la secci�n de Network Activity> Dar click sobre Total (B/Sec) para ordenar descendentemente
5. Si el proceso que mas consume se llama ""pbx_exchange.exe"" es porque se debe a procesos de respaldos, por lo cual no se debe generar incidente, solo mantener el monitoreo.";
;;;;;
BDD;DRECXDB008;CPU Saturation;CPU Saturation;"1. Ingresamos al cyberark.
2. Buscamos el nombre del servidor para poder ingresar.
3. Mediante un IDE nos conectamos a la base de datos PROD con la conexi�n PROD_EBS.                                                                                                                                                                                         4. Ejecutamos un query para validar que no se est� ejecutando un respaldo                                                                                                                                                    ""SELECT SID, START_TIME, TOTALWORK, sofar,  (sofar / totalwork) * 100 done, 
    SYSDATE + TIME_REMAINING / 3600 / 24 end_at 
  FROM v$session_longops 
  WHERE     totalwork > sofar AND opname NOT LIKE '%aggregate%'  AND opname LIKE 'RMAN%' 
  order by end_at desc; ""     
5, Ejecutamos un query para validar que no se este ejecutando estadisticas 
SELECT sess.sid, sess.serial#, sess.username, sess.status, sql.sql_text
FROM gv$session sess
JOIN gv$sql sql ON sess.sql_id = sql.sql_id
WHERE sess.status = 'ACTIVE' AND sql.sql_text LIKE 'ALTER INDEX%                                                                                                                                                                                                                                                     
6. Si los  querys retorna sessiones de backup,index o estadisticas corresponde a un evento controlado, caso contrario si no existe la ejecuci�n de estos querys y el evento  persiste m�s de 15 minutos notificar a BDD.
Nota:este servidor es de restauraciones de bdd  no existe transaccionabilidad asi que cada evento que reporte en este servidor colocar como cerrado como  controlado,no existe tiempo ya que la resturacion puede tardar horas ";
BDD;ecbpprq102;Slow Disk SQL;Slow disk;"1. Revisi�n del Evento en Dynatrace.

2. Identificaci�n del problema (CPU-Memoria-Slow Disk).

3. Ingreso al Cyberark con el usuario y password de red.

4. Colocamos el usuario gen�rico de Eventos USRPMOCK y buscamos el dominio: uio.bpichincha.com + Conectar.

5. Luego en equipo remoto buscamos el servidor, en este caso el ECBPPRQ121 + Conectar.

6. En el servidor buscamos el motor SQL dependiendo la versi�n instalada.

7. Abrimos la consola y ejecutamos un New Query.

8. Ejecutamos los comandos SP_WHO3 o SP_WHO2 ACTIVE dependiendo la versi�n del motor SQL.

Nota:cerrar como evento controlado ya que el servidor no es transaccional solo es una replica de informaci�n del servidor ecuio012q38 en el cual realiza el usuario consultas pesadas que saturan al disco H y provoca el slow disk";
